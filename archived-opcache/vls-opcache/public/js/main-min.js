$(function(){function e(){if(window.IsWidescreen){$("#mnuWideScreen").text("Set Widescreen Off").closest("li").addClass("active"),$("#NavigationMain > div.container").removeClass("container").addClass("container-fluid"),$("#MainContent").removeClass("container").addClass("container-fluid");var e=$("#NavigationToolbar > div.container");e.removeClass("container toolbar-padding").addClass("container-fluid toolbar-nopadding"),e.find("div.btn-group:first").removeClass("widescreen-off").addClass("widescreen-on")}else{$("#mnuWideScreen").text("Set Widescreen On").closest("li").removeClass("active"),$("#NavigationMain > div.container-fluid").removeClass("container-fluid").addClass("container"),$("#MainContent").removeClass("container-fluid").addClass("container");var e=$("#NavigationToolbar > div.container-fluid");e.removeClass("container-fluid toolbar-nopadding").addClass("container toolbar-padding"),e.find("div.btn-group:first").removeClass("widescreen-on").addClass("widescreen-off")}window.IsWidescreen=!window.IsWidescreen}function n(){$("#NavigationToolbar div.btn-group a").removeClass("active"),$("#btn"+window.ContentTab).addClass("active"),$("#ContentTabs div.tab-pane").removeClass("active"),$("#ContentTabs-"+window.ContentTab).addClass("active")}function o(e){e="boolean"==typeof e?e:!0;var o=!1;$.ajax({url:"/content",type:"GET",beforeSend:function(){$("#MainContent").empty(),e&&window.showToast("Page Content Loading")},complete:function(){n(),o===!1&&window.hideToast()},error:function(){o=!0,window.showToast("Error Loading Page Content",!0,!0)},success:function(e){$("#MainContent").html(e)}})}function a(){var e="Opcache Reset Failed";$.ajax({url:"/clear-cache",type:"POST",dataType:"json",data:{reset:!0},beforeSend:function(){$("#btnClearCache").attr("disabled",!0)},complete:function(){$("#btnClearCache").attr("disabled",!1)},error:function(){window.showToast(e,!0,!0)},success:function(n){"success"===n.status?(window.showToast("Opcache Successfully Reset :: Page Content Loading"),o(!1)):window.showToast(e,!0,!0)}})}function t(){window.RefreshTimerOn===!0?($("#mnuAutoRefresh").text("Disable Auto Refresh").closest("li").addClass("active"),RefreshTimer=setInterval(function(){o()},1e3*window.RefreshInterval)):($("#mnuAutoRefresh").text("Enable Auto Refresh").closest("li").removeClass("active"),"undefined"!=typeof RefreshTimer&&clearTimeout(RefreshTimer)),window.RefreshTimerOn=!window.RefreshTimerOn}$("#mnuAutoRefresh").click(function(e){e.preventDefault(),t()}),$("#mnuWideScreen").click(function(n){n.preventDefault(),e()}),$("#NavigationToolbar a.btn").click(function(e){e.preventDefault(),window.ContentTab=$(this).data("tab"),$(this).blur(),n()}),$("#ConfirmationModalYes").click(function(e){e.preventDefault();var n=$("#ConfirmationModal").data("mode");$("#ConfirmationModal").data("id");switch(n){case"clearCache":$("#ConfirmationModal").modal("hide"),a();break;default:$("#ConfirmationModal").modal("hide"),showErrorToast("<span>Invalid Application Mode</span>")}}),$("#btnClearCache").click(function(e){e.preventDefault(),window.OpcacheResetConfirm===!0?($("#ConfirmationModalTitle").text("Reset Cache"),$("#ConfirmationModalBody").html("<p>Clear all cached entries?</p>"),$("#ConfirmationModal").data("mode","clearCache").modal("show")):a()}),window.showToast=function(e,n,o){window.ToastDisplayed&&($("#ToastBanner").stop().hide(),window.ToastDisplayed=!1),e="undefined"!=typeof e?e:"",n="boolean"==typeof n?n:!1,o="boolean"==typeof o?o:!1;var a=o===!0?"red":"#383838";$("#ToastBanner p.content").css("background-color",a).text(e),window.ToastDisplayed=!0,n?$("#ToastBanner").stop().delay(1600).fadeOut(400,function(){window.ToastDisplayed=!1}).show():$("#ToastBanner").stop().show()},window.hideToast=function(){$("#ToastBanner").stop().delay(1600).fadeOut(400,function(){window.ToastDisplayed=!1})},window.ContentTab=-1!==$.inArray(window.ContentTab,["Overview","Scripts","Information"])?window.ContentTab:"Overview",window.IsWidescreen="boolean"==typeof!!window.IsWidescreen?!!window.IsWidescreen:!1,window.OpcacheResetConfirm="boolean"==typeof!!window.OpcacheResetConfirm?!!window.OpcacheResetConfirm:!1,window.RefreshTimerAutoStart="boolean"==typeof!!window.RefreshTimerAutoStart?!!window.RefreshTimerAutoStart:!1,window.RefreshTimerOn=window.RefreshTimerAutoStart?!1:!0,window.RefreshInterval=parseInt(window.RefreshInterval)||600,window.ShowScriptsDetailsColumn="boolean"==typeof!!window.ShowScriptsDetailsColumn?!!window.ShowScriptsDetailsColumn:!1,window.ToastDisplayed=!1,window.CachedFilesTotal=0,e(),o(),n(),window.RefreshTimerAutoStart&&$("#mnuAutoRefresh").trigger("click")});